## Test 16: Memory Leak Check [1 pts]

```

leak_output=$(valgrind --track-fds=yes --track-origins=yes --leak-check=full \
    ./inspector -o -p "${TEST_DIR}/inputs/fakeproc" 2>&1)
echo "${leak_output}"
==58968== Memcheck, a memory error detector
==58968== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==58968== Using Valgrind-3.16.1 and LibVEX; rerun with -h for copyright info
==58968== Command: ./inspector -o -p /home/mmalensek/grader/target/tests/inputs/fakeproc
==58968== 
inspector.c:107:main(): Using alternative proc directory: /home/mmalensek/grader/target/tests/inputs/fakeproc
display.c:37:display_init(): Initializing the display...
display.c:40:display_init(): Curses-based display disabled
util.c:258:copy_cpu_info(): FOUND KEY:	'AMD EPYC 7281 16-Core Processor'
util.c:258:copy_cpu_info(): FOUND KEY:	'32'
procfs.c:97:pfs_uptime(): UPTIME_FD GOOD:	4
procfs.c:105:pfs_uptime(): ATTEMPTING TO DO LINEREAD0
procfs.c:110:pfs_uptime(): LINE IS:	1489135.87 93892480.11
procfs.c:121:pfs_uptime(): UPTIME STRING IS:	1489135.87
procfs.c:162:populate_uptime(): SECONDS:	55
:	procfs.c:163:populate_uptime(): MINUTES:	38
:	procfs.c:164:populate_uptime(): HOURS:	5
:	procfs.c:165:populate_uptime(): DAYS:	17
:	procfs.c:166:populate_uptime(): YEARS:	0
:	procfs.c:218:get_time_substring(): TIME_BUF RIGHT NOW:	'17 days, '
procfs.c:218:get_time_substring(): TIME_BUF RIGHT NOW:	'5 hours, '
procfs.c:195:write_time(): SECONDS:	55 secondsprocfs.c:196:write_time(): MINUTES:	38 minutes, 
procfs.c:198:write_time(): CURRENT UPTIME:	  17 days,  5 hours,  38 minutes,  55 seconds
procfs.c:206:write_time(): '17 days, 5 hours, 38 minutes, 55 seconds'procfs.c:240:pfs_load_avg(): LINE CONTENTS:	1.87 1.27 1.07 2/1991 25278
procfs.c:287:init_cpu_stats(): LINE:	|cpu  96163670 5611 40356397 9384177029 4633247 0 41781 0 86973015 0|
procfs.c:292:init_cpu_stats(): BUF_PTR:	|96163670 5611 40356397 9384177029 4633247 0 41781 0 86973015 0|
procfs.c:299:init_cpu_stats(): sep_ptr val:	96163670
procfs.c:299:init_cpu_stats(): sep_ptr val:	5611
procfs.c:299:init_cpu_stats(): sep_ptr val:	40356397
procfs.c:309:init_cpu_stats(): sep_ptr val:	9384177029
procfs.c:316:init_cpu_stats(): sep_ptr val:	4633247
procfs.c:316:init_cpu_stats(): sep_ptr val:	0
procfs.c:316:init_cpu_stats(): sep_ptr val:	41781
procfs.c:316:init_cpu_stats(): sep_ptr val:	0
procfs.c:316:init_cpu_stats(): sep_ptr val:	86973015
procfs.c:316:init_cpu_stats(): sep_ptr val:	0
procfs.c:319:init_cpu_stats(): VALUES:
	stats->idle:	9384177029
	stats->total:	9612350750
procfs.c:254:pfs_cpu_usage(): AFTER READING FILE:
	prev->idle:	0
	prev->total:	0
	current->idle:	9384177029
	current->total:	9612350750
procfs.c:265:pfs_cpu_usage(): 
	IDLE:	9384177029
	TOTAL:	9612350750
procfs.c:269:pfs_cpu_usage(): USED:	0.976262util.c:23:draw_percbar(): FRAC AND safe_percent:
	FRAC:	0.023738
	safe_percent:2.373856
util.c:33:draw_percbar(): NUM OF HASHES:	0
util.c:92:get_number_display(): CURRENT safe_percent_str:	2.3%
util.c:51:draw_percbar(): CURRENT BUFFER:	|[--------------------] |
util.c:56:draw_percbar(): CURRENT BUFFER:	|[--------------------] 2.3%|
procfs.c:379:init_mstats(): FOUND MEM_AVAIL:	 |   20273148 kB|
procfs.c:388:init_mstats(): FOUND mem_total:	 |       65698624 kB|
procfs.c:396:init_mstats(): VALUES:
	mem_avail:	|19.333981|
	mem_total:	|62.655090|
util.c:23:draw_percbar(): FRAC AND safe_percent:
	FRAC:	0.691422
	safe_percent:69.142303
util.c:33:draw_percbar(): NUM OF HASHES:	13
util.c:92:get_number_display(): CURRENT safe_percent_str:	69.1%
util.c:51:draw_percbar(): CURRENT BUFFER:	|[#############-------] |
util.c:56:draw_percbar(): CURRENT BUFFER:	|[#############-------] 69.1%|
==58968== Conditional jump or move depends on uninitialised value(s)
==58968==    at 0x4842699: strstr (vg_replace_strmem.c:1642)
==58968==    by 0x10DA7E: get_task_state (procfs.c:626)
==58968==    by 0x10D7C7: update_task_stats (procfs.c:575)
==58968==    by 0x10D32C: read_proc (procfs.c:528)
==58968==    by 0x10CCB1: pfs_tasks (procfs.c:458)
==58968==    by 0x10EAAA: display_refresh (display.c:142)
==58968==    by 0x10A799: main (inspector.c:114)
==58968==  Uninitialised value was created by a stack allocation
==58968==    at 0x10D55B: update_task_stats (procfs.c:554)
==58968== 
==58968== Conditional jump or move depends on uninitialised value(s)
==58968==    at 0x48426A2: strstr (vg_replace_strmem.c:1642)
==58968==    by 0x10DA7E: get_task_state (procfs.c:626)
==58968==    by 0x10D7C7: update_task_stats (procfs.c:575)
==58968==    by 0x10D32C: read_proc (procfs.c:528)
==58968==    by 0x10CCB1: pfs_tasks (procfs.c:458)
==58968==    by 0x10EAAA: display_refresh (display.c:142)
==58968==    by 0x10A799: main (inspector.c:114)
==58968==  Uninitialised value was created by a stack allocation
==58968==    at 0x10D55B: update_task_stats (procfs.c:554)
==58968== 
==58968== Conditional jump or move depends on uninitialised value(s)
==58968==    at 0x4842699: strstr (vg_replace_strmem.c:1642)
==58968==    by 0x10DB21: get_task_id (procfs.c:645)
==58968==    by 0x10D7E5: update_task_stats (procfs.c:576)
==58968==    by 0x10D32C: read_proc (procfs.c:528)
==58968==    by 0x10CCB1: pfs_tasks (procfs.c:458)
==58968==    by 0x10EAAA: display_refresh (display.c:142)
==58968==    by 0x10A799: main (inspector.c:114)
==58968==  Uninitialised value was created by a stack allocation
==58968==    at 0x10D55B: update_task_stats (procfs.c:554)
==58968== 
==58968== Conditional jump or move depends on uninitialised value(s)
==58968==    at 0x48426A2: strstr (vg_replace_strmem.c:1642)
==58968==    by 0x10DB21: get_task_id (procfs.c:645)
==58968==    by 0x10D7E5: update_task_stats (procfs.c:576)
==58968==    by 0x10D32C: read_proc (procfs.c:528)
==58968==    by 0x10CCB1: pfs_tasks (procfs.c:458)
==58968==    by 0x10EAAA: display_refresh (display.c:142)
==58968==    by 0x10A799: main (inspector.c:114)
==58968==  Uninitialised value was created by a stack allocation
==58968==    at 0x10D55B: update_task_stats (procfs.c:554)
==58968== 
==58968== Conditional jump or move depends on uninitialised value(s)
==58968==    at 0x4842699: strstr (vg_replace_strmem.c:1642)
==58968==    by 0x10DBB4: get_task_name (procfs.c:663)
==58968==    by 0x10D804: update_task_stats (procfs.c:577)
==58968==    by 0x10D32C: read_proc (procfs.c:528)
==58968==    by 0x10CCB1: pfs_tasks (procfs.c:458)
==58968==    by 0x10EAAA: display_refresh (display.c:142)
==58968==    by 0x10A799: main (inspector.c:114)
==58968==  Uninitialised value was created by a stack allocation
==58968==    at 0x10D55B: update_task_stats (procfs.c:554)
==58968== 
==58968== Conditional jump or move depends on uninitialised value(s)
==58968==    at 0x48426A2: strstr (vg_replace_strmem.c:1642)
==58968==    by 0x10DBB4: get_task_name (procfs.c:663)
==58968==    by 0x10D804: update_task_stats (procfs.c:577)
==58968==    by 0x10D32C: read_proc (procfs.c:528)
==58968==    by 0x10CCB1: pfs_tasks (procfs.c:458)
==58968==    by 0x10EAAA: display_refresh (display.c:142)
==58968==    by 0x10A799: main (inspector.c:114)
==58968==  Uninitialised value was created by a stack allocation
==58968==    at 0x10D55B: update_task_stats (procfs.c:554)
==58968== 
procfs.c:556:update_task_stats(): STATUS_FD FAILED: -1
==58968== Warning: invalid file descriptor -1 in syscall close()
procfs.c:698:add_task(): TASK:	
	->pid:	'78241'
	->uid:	'0'
	->state:	'tracing stop'
	->name:	'nfsv4.1-svc'
CURRENT T_STATS SIZE:	'0'
procfs.c:698:add_task(): TASK:	
	->pid:	'4490'
	->uid:	'1404'
	->state:	'stopped'
	->name:	'virtlogd'
CURRENT T_STATS SIZE:	'1'
procfs.c:556:update_task_stats(): STATUS_FD FAILED: -1
==58968== Warning: invalid file descriptor -1 in syscall close()
procfs.c:698:add_task(): TASK:	
	->pid:	'902'
	->uid:	'1041'
	->state:	'disk sleep'
	->name:	'virtlogd'
CURRENT T_STATS SIZE:	'2'
procfs.c:556:update_task_stats(): STATUS_FD FAILED: -1
==58968== Warning: invalid file descriptor -1 in syscall close()
procfs.c:698:add_task(): TASK:	
	->pid:	'7079'
	->uid:	'0'
	->state:	'running'
	->name:	'ccp-7-q2'
CURRENT T_STATS SIZE:	'3'
procfs.c:698:add_task(): TASK:	
	->pid:	'11131'
	->uid:	'0'
	->state:	'disk sleep'
	->name:	'kworker/16:1H'
CURRENT T_STATS SIZE:	'4'
procfs.c:698:add_task(): TASK:	
	->pid:	'218'
	->uid:	'1041'
	->state:	'disk sleep'
	->name:	'virtlogd'
CURRENT T_STATS SIZE:	'5'
procfs.c:698:add_task(): TASK:	
	->pid:	'817'
	->uid:	'1000'
	->state:	'running'
	->name:	'stress'
CURRENT T_STATS SIZE:	'6'
procfs.c:698:add_task(): TASK:	
	->pid:	'88888'
	->uid:	'0'
	->state:	'zombie'
	->name:	'really_really_long_named_'
CURRENT T_STATS SIZE:	'7'
procfs.c:538:read_proc(): CLOSING DIR:	SUCCESS
procfs.c:540:read_proc(): TSTATS:
	->total:	1487
	->running:	2
	->waiting:	3
	->sleeping:	1479
	->stopped:	2
	->zombie:	1
procfs.c:461:pfs_tasks(): ---------------------BEFORE SORTING:
procfs.c:466:pfs_tasks(): TASK:	
	->pid:	'78241'
	->uid:	'0'
	->state:	'tracing stop'
	->name:	'nfsv4.1-svc'
CURRENT T_STATS SIZE:	'8'
procfs.c:466:pfs_tasks(): TASK:	
	->pid:	'4490'
	->uid:	'1404'
	->state:	'stopped'
	->name:	'virtlogd'
CURRENT T_STATS SIZE:	'8'
procfs.c:466:pfs_tasks(): TASK:	
	->pid:	'902'
	->uid:	'1041'
	->state:	'disk sleep'
	->name:	'virtlogd'
CURRENT T_STATS SIZE:	'8'
procfs.c:466:pfs_tasks(): TASK:	
	->pid:	'7079'
	->uid:	'0'
	->state:	'running'
	->name:	'ccp-7-q2'
CURRENT T_STATS SIZE:	'8'
procfs.c:466:pfs_tasks(): TASK:	
	->pid:	'11131'
	->uid:	'0'
	->state:	'disk sleep'
	->name:	'kworker/16:1H'
CURRENT T_STATS SIZE:	'8'
procfs.c:466:pfs_tasks(): TASK:	
	->pid:	'218'
	->uid:	'1041'
	->state:	'disk sleep'
	->name:	'virtlogd'
CURRENT T_STATS SIZE:	'8'
procfs.c:466:pfs_tasks(): TASK:	
	->pid:	'817'
	->uid:	'1000'
	->state:	'running'
	->name:	'stress'
CURRENT T_STATS SIZE:	'8'
procfs.c:466:pfs_tasks(): TASK:	
	->pid:	'88888'
	->uid:	'0'
	->state:	'zombie'
	->name:	'really_really_long_named_'
CURRENT T_STATS SIZE:	'8'
procfs.c:480:pfs_tasks(): ---------------------AFTER SORTING:
procfs.c:485:pfs_tasks(): TASK:	
	->pid:	'218'
	->uid:	'1041'
	->state:	'disk sleep'
	->name:	'virtlogd'
CURRENT T_STATS SIZE:	'8'
procfs.c:485:pfs_tasks(): TASK:	
	->pid:	'817'
	->uid:	'1000'
	->state:	'running'
	->name:	'stress'
CURRENT T_STATS SIZE:	'8'
procfs.c:485:pfs_tasks(): TASK:	
	->pid:	'902'
	->uid:	'1041'
	->state:	'disk sleep'
	->name:	'virtlogd'
CURRENT T_STATS SIZE:	'8'
procfs.c:485:pfs_tasks(): TASK:	
	->pid:	'4490'
	->uid:	'1404'
	->state:	'stopped'
	->name:	'virtlogd'
CURRENT T_STATS SIZE:	'8'
procfs.c:485:pfs_tasks(): TASK:	
	->pid:	'7079'
	->uid:	'0'
	->state:	'running'
	->name:	'ccp-7-q2'
CURRENT T_STATS SIZE:	'8'
procfs.c:485:pfs_tasks(): TASK:	
	->pid:	'11131'
	->uid:	'0'
	->state:	'disk sleep'
	->name:	'kworker/16:1H'
CURRENT T_STATS SIZE:	'8'
procfs.c:485:pfs_tasks(): TASK:	
	->pid:	'78241'
	->uid:	'0'
	->state:	'tracing stop'
	->name:	'nfsv4.1-svc'
CURRENT T_STATS SIZE:	'8'
procfs.c:485:pfs_tasks(): TASK:	
	->pid:	'88888'
	->uid:	'0'
	->state:	'zombie'
	->name:	'really_really_long_named_'
CURRENT T_STATS SIZE:	'8'
util.c:108:uid_to_uname(): WHAT IS UID_STR:	1041
util.c:121:uid_to_uname(): ORIGINAL HEAD: root:x:0:0::/root:/bin/bash
util.c:121:uid_to_uname(): ORIGINAL HEAD: bin:x:1:1::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: daemon:x:2:2::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: mail:x:8:12::/var/spool/mail:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: ftp:x:14:11::/srv/ftp:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: http:x:33:33::/srv/http:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: nobody:x:65534:65534:Nobody:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: dbus:x:81:81:System Message Bus:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-journal-remote:x:982:982:systemd Journal Remote:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-network:x:981:981:systemd Network Management:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-resolve:x:980:980:systemd Resolver:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-timesync:x:979:979:systemd Time Synchronization:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-coredump:x:978:978:systemd Core Dumper:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: uuidd:x:68:68::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: dhcpcd:x:977:977:dhcpcd privilege separation:/var/lib/dhcpcd:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: git:x:976:976:git daemon user:/:/usr/bin/git-shell
util.c:121:uid_to_uname(): ORIGINAL HEAD: mmalensek:x:1000:998::/home/mmalensek:/usr/bin/zsh
util.c:160:uid_to_uname(): VALUES:
	UID_STR:	1041
	NAME_BUF:	1041
util.c:165:uid_to_uname(): USING UID INSTEAD:	1041
util.c:108:uid_to_uname(): WHAT IS UID_STR:	1000
util.c:121:uid_to_uname(): ORIGINAL HEAD: root:x:0:0::/root:/bin/bash
util.c:121:uid_to_uname(): ORIGINAL HEAD: bin:x:1:1::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: daemon:x:2:2::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: mail:x:8:12::/var/spool/mail:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: ftp:x:14:11::/srv/ftp:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: http:x:33:33::/srv/http:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: nobody:x:65534:65534:Nobody:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: dbus:x:81:81:System Message Bus:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-journal-remote:x:982:982:systemd Journal Remote:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-network:x:981:981:systemd Network Management:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-resolve:x:980:980:systemd Resolver:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-timesync:x:979:979:systemd Time Synchronization:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-coredump:x:978:978:systemd Core Dumper:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: uuidd:x:68:68::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: dhcpcd:x:977:977:dhcpcd privilege separation:/var/lib/dhcpcd:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: git:x:976:976:git daemon user:/:/usr/bin/git-shell
util.c:121:uid_to_uname(): ORIGINAL HEAD: mmalensek:x:1000:998::/home/mmalensek:/usr/bin/zsh
util.c:136:uid_to_uname(): FOUND MATCH
util.c:143:uid_to_uname(): 
FOUND NAME:	|mmalensek|
util.c:108:uid_to_uname(): WHAT IS UID_STR:	1041
util.c:121:uid_to_uname(): ORIGINAL HEAD: root:x:0:0::/root:/bin/bash
util.c:121:uid_to_uname(): ORIGINAL HEAD: bin:x:1:1::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: daemon:x:2:2::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: mail:x:8:12::/var/spool/mail:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: ftp:x:14:11::/srv/ftp:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: http:x:33:33::/srv/http:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: nobody:x:65534:65534:Nobody:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: dbus:x:81:81:System Message Bus:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-journal-remote:x:982:982:systemd Journal Remote:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-network:x:981:981:systemd Network Management:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-resolve:x:980:980:systemd Resolver:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-timesync:x:979:979:systemd Time Synchronization:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-coredump:x:978:978:systemd Core Dumper:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: uuidd:x:68:68::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: dhcpcd:x:977:977:dhcpcd privilege separation:/var/lib/dhcpcd:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: git:x:976:976:git daemon user:/:/usr/bin/git-shell
util.c:121:uid_to_uname(): ORIGINAL HEAD: mmalensek:x:1000:998::/home/mmalensek:/usr/bin/zsh
util.c:160:uid_to_uname(): VALUES:
	UID_STR:	1041
	NAME_BUF:	1041
util.c:165:uid_to_uname(): USING UID INSTEAD:	1041
util.c:108:uid_to_uname(): WHAT IS UID_STR:	1404
util.c:121:uid_to_uname(): ORIGINAL HEAD: root:x:0:0::/root:/bin/bash
util.c:121:uid_to_uname(): ORIGINAL HEAD: bin:x:1:1::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: daemon:x:2:2::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: mail:x:8:12::/var/spool/mail:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: ftp:x:14:11::/srv/ftp:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: http:x:33:33::/srv/http:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: nobody:x:65534:65534:Nobody:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: dbus:x:81:81:System Message Bus:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-journal-remote:x:982:982:systemd Journal Remote:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-network:x:981:981:systemd Network Management:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-resolve:x:980:980:systemd Resolver:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-timesync:x:979:979:systemd Time Synchronization:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: systemd-coredump:x:978:978:systemd Core Dumper:/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: uuidd:x:68:68::/:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: dhcpcd:x:977:977:dhcpcd privilege separation:/var/lib/dhcpcd:/usr/bin/nologin
util.c:121:uid_to_uname(): ORIGINAL HEAD: git:x:976:976:git daemon user:/:/usr/bin/git-shell
util.c:121:uid_to_uname(): ORIGINAL HEAD: mmalensek:x:1000:998::/home/mmalensek:/usr/bin/zsh
util.c:160:uid_to_uname(): VALUES:
	UID_STR:	1404
	NAME_BUF:	1404
util.c:165:uid_to_uname(): USING UID INSTEAD:	1404
util.c:108:uid_to_uname(): WHAT IS UID_STR:	0
util.c:121:uid_to_uname(): ORIGINAL HEAD: root:x:0:0::/root:/bin/bash
util.c:136:uid_to_uname(): FOUND MATCH
util.c:143:uid_to_uname(): 
FOUND NAME:	|root|
util.c:108:uid_to_uname(): WHAT IS UID_STR:	0
util.c:121:uid_to_uname(): ORIGINAL HEAD: root:x:0:0::/root:/bin/bash
util.c:136:uid_to_uname(): FOUND MATCH
util.c:143:uid_to_uname(): 
FOUND NAME:	|root|
util.c:108:uid_to_uname(): WHAT IS UID_STR:	0
util.c:121:uid_to_uname(): ORIGINAL HEAD: root:x:0:0::/root:/bin/bash
util.c:136:uid_to_uname(): FOUND MATCH
util.c:143:uid_to_uname(): 
FOUND NAME:	|root|
util.c:108:uid_to_uname(): WHAT IS UID_STR:	0
util.c:121:uid_to_uname(): ORIGINAL HEAD: root:x:0:0::/root:/bin/bash
util.c:136:uid_to_uname(): FOUND MATCH
util.c:143:uid_to_uname(): 
FOUND NAME:	|root|
Hostname: deus-ex-machina | Kernel Version: 1.33.7
CPU: AMD EPYC 7281 16-Core Processor, Processing Units: 64
Uptime: 17 days, 5 hours, 38 minutes, 55 seconds

Load Average (1/5/15 min): 1.87 1.27 1.07
CPU Usage:    [--------------------] 2.3%
Memory Usage: [#############-------] 69.1% (43.3 / 62.7 GB)

Tasks: 1487 total
2 running, 3 waiting, 1479 sleeping, 2 stopped, 1 zombie

      PID |                 Task Name |        State |            User
----------+---------------------------+--------------+-----------------
      218 |                  virtlogd |   disk sleep |            1041
      817 |                    stress |      running |       mmalensek
      902 |                  virtlogd |   disk sleep |            1041
     4490 |                  virtlogd |      stopped |            1404
     7079 |                  ccp-7-q2 |      running |            root
    11131 |             kworker/16:1H |   disk sleep |            root
    78241 |               nfsv4.1-svc | tracing stop |            root
    88888 | really_really_long_named_ |       zombie |            root
==58968== 
==58968== FILE DESCRIPTORS: 4 open at exit.
==58968== Open file descriptor 3: /home/mmalensek/grader/target/tests/inputs/fakeproc/cpuinfo
==58968==    at 0x4AF8C1B: open (in /usr/lib/libc-2.32.so)
==58968==    by 0x10FDA9: open_path (util.c:190)
==58968==    by 0x10A99C: pfs_cpu_units (procfs.c:72)
==58968==    by 0x10E620: display_refresh (display.c:103)
==58968==    by 0x10A799: main (inspector.c:114)
==58968== 
==58968== Open file descriptor 2:
==58968==    <inherited from parent>
==58968== 
==58968== Open file descriptor 1:
==58968==    <inherited from parent>
==58968== 
==58968== Open file descriptor 0: /dev/pts/3
==58968==    <inherited from parent>
==58968== 
==58968== 
==58968== HEAP SUMMARY:
==58968==     in use at exit: 20 bytes in 1 blocks
==58968==   total heap usage: 1,518 allocs, 1,517 frees, 133,063 bytes allocated
==58968== 
==58968== 20 bytes in 1 blocks are definitely lost in loss record 1 of 1
==58968==    at 0x483CB65: calloc (vg_replace_malloc.c:760)
==58968==    by 0x10ADC2: pfs_format_uptime (procfs.c:133)
==58968==    by 0x10E702: display_refresh (display.c:111)
==58968==    by 0x10A799: main (inspector.c:114)
==58968== 
==58968== LEAK SUMMARY:
==58968==    definitely lost: 20 bytes in 1 blocks
==58968==    indirectly lost: 0 bytes in 0 blocks
==58968==      possibly lost: 0 bytes in 0 blocks
==58968==    still reachable: 0 bytes in 0 blocks
==58968==         suppressed: 0 bytes in 0 blocks
==58968== 
==58968== For lists of detected and suppressed errors, rerun with: -s
==58968== ERROR SUMMARY: 31207 errors from 7 contexts (suppressed: 0 from 0)

# Check for open FDs
grep -i '==[0-9]*==\s*Open file descriptor.*tests/inputs' \
    <<< "${leak_output}" && test_end 1
==58968== Open file descriptor 3: /home/mmalensek/grader/target/tests/inputs/fakeproc/cpuinfo
 --> Test failed (1)
```

