\hypertarget{procfs_8h}{}\doxysection{procfs.\+h File Reference}
\label{procfs_8h}\index{procfs.h@{procfs.h}}
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structload__avg}{load\+\_\+avg}}
\item 
struct \mbox{\hyperlink{structcpu__stats}{cpu\+\_\+stats}}
\item 
struct \mbox{\hyperlink{structmem__stats}{mem\+\_\+stats}}
\item 
struct \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}}
\item 
struct \mbox{\hyperlink{structtask__info}{task\+\_\+info}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{procfs_8h_acb1112f87eb6d7023b4bc2adccebb75e}{pfs\+\_\+hostname}} (char $\ast$proc\+\_\+dir, char $\ast$hostname\+\_\+buf, size\+\_\+t buf\+\_\+sz)
\begin{DoxyCompactList}\small\item\em Copies this OS\textquotesingle{}s hostname to hostname\+\_\+buf. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{procfs_8h_aa2daa2378b2816f378f7d8d1cad39371}{pfs\+\_\+kernel\+\_\+version}} (char $\ast$proc\+\_\+dir, char $\ast$version\+\_\+buf, size\+\_\+t buf\+\_\+sz)
\begin{DoxyCompactList}\small\item\em Copies this OS\textquotesingle{}s kernel version to version\+\_\+buf. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{procfs_8h_aa9d05ac622f7322719bbcf8302c682ad}{pfs\+\_\+cpu\+\_\+model}} (char $\ast$proc\+\_\+dir, char $\ast$model\+\_\+buf, size\+\_\+t buf\+\_\+sz)
\begin{DoxyCompactList}\small\item\em Copies this OS\textquotesingle{}s cpu model to model\+\_\+buf. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{procfs_8h_a9b207290dee3e4fc725a6800ab2813d6}{pfs\+\_\+cpu\+\_\+units}} (char $\ast$proc\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Gets the num of cpu\+\_\+units. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{procfs_8h_a22f70e07728198887b6f062716183058}{pfs\+\_\+uptime}} (char $\ast$proc\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Gets the uptime of this OS. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{procfs_8h_a2b539d023054cb32a82cc19e9fe1d977}{pfs\+\_\+format\+\_\+uptime}} (double time, char $\ast$uptime\+\_\+buf)
\begin{DoxyCompactList}\small\item\em Formats the OS\textquotesingle{}s uptime and writes it to uptime\+\_\+buf. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structload__avg}{load\+\_\+avg}} \mbox{\hyperlink{procfs_8h_ad7cd36585e7dc0dd239d622c60e1df69}{pfs\+\_\+load\+\_\+avg}} (char $\ast$proc\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Creates a struct containing load average values and returns it. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{procfs_8h_a866cac2f8014b4c83f23243ab0e01ab3}{pfs\+\_\+cpu\+\_\+usage}} (char $\ast$procfs\+\_\+dir, struct \mbox{\hyperlink{structcpu__stats}{cpu\+\_\+stats}} $\ast$prev, struct \mbox{\hyperlink{structcpu__stats}{cpu\+\_\+stats}} $\ast$curr)
\begin{DoxyCompactList}\small\item\em calculates this OS\textquotesingle{}s cpu usage from cpu\+\_\+usage file \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structmem__stats}{mem\+\_\+stats}} \mbox{\hyperlink{procfs_8h_a6cde96a5ca78eb0d37fb4c8da3c7e0b4}{pfs\+\_\+mem\+\_\+usage}} (char $\ast$procfs\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Populates and returns a \mbox{\hyperlink{structmem__stats}{mem\+\_\+stats}} struct with data from meminfo. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} $\ast$ \mbox{\hyperlink{procfs_8h_a3a7b8e342feb3d2ae29e01279c18087a}{pfs\+\_\+create\+\_\+tstats}} ()
\begin{DoxyCompactList}\small\item\em Initalizes a \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} struct. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{procfs_8h_ace1568af21fee77d1ce8b68ac7460e8c}{pfs\+\_\+destroy\+\_\+tstats}} (struct \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} $\ast$tstats)
\begin{DoxyCompactList}\small\item\em Destroys \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} data, including freeing allocated memory. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{procfs_8h_a78c77e940f997164cfe044717b5ce2e1}{pfs\+\_\+tasks}} (char $\ast$proc\+\_\+dir, struct \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} $\ast$tstats)
\begin{DoxyCompactList}\small\item\em Returns the number of tasks/processes in this OS. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{procfs_8h_afd9a22056f1c44f1b54a027f8ecbd9f0}\label{procfs_8h_afd9a22056f1c44f1b54a027f8ecbd9f0}} 
const char $\ast$ {\bfseries pfs\+\_\+hostname\+\_\+path}
\item 
\mbox{\Hypertarget{procfs_8h_a3507902b66fb540089ee21538152cea6}\label{procfs_8h_a3507902b66fb540089ee21538152cea6}} 
const char $\ast$ {\bfseries pfs\+\_\+kernel\+\_\+path}
\item 
\mbox{\Hypertarget{procfs_8h_acb7648d462c6d9c35d975d714fbaf024}\label{procfs_8h_acb7648d462c6d9c35d975d714fbaf024}} 
const char $\ast$ {\bfseries pfs\+\_\+cpu\+\_\+path}
\item 
\mbox{\Hypertarget{procfs_8h_add3458c3d4c21b46951e9ef542c86466}\label{procfs_8h_add3458c3d4c21b46951e9ef542c86466}} 
const char $\ast$ {\bfseries pfs\+\_\+uptime\+\_\+path}
\item 
\mbox{\Hypertarget{procfs_8h_af0d75f52326f164ec46e548b484e83ee}\label{procfs_8h_af0d75f52326f164ec46e548b484e83ee}} 
const char $\ast$ {\bfseries pfs\+\_\+load\+\_\+avg\+\_\+path}
\item 
\mbox{\Hypertarget{procfs_8h_a6d831d891f49984ceffa98b912145146}\label{procfs_8h_a6d831d891f49984ceffa98b912145146}} 
const char $\ast$ {\bfseries pfs\+\_\+cpu\+\_\+usage\+\_\+path}
\item 
\mbox{\Hypertarget{procfs_8h_acadad8b63aada1a4e3fa8c69cb1a3155}\label{procfs_8h_acadad8b63aada1a4e3fa8c69cb1a3155}} 
const char $\ast$ {\bfseries pfs\+\_\+mem\+\_\+usage\+\_\+path}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Retrieves raw information from procfs, parses it, and provides easy-\/to-\/use functions for displaying the data. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{procfs_8h_aa9d05ac622f7322719bbcf8302c682ad}\label{procfs_8h_aa9d05ac622f7322719bbcf8302c682ad}} 
\index{procfs.h@{procfs.h}!pfs\_cpu\_model@{pfs\_cpu\_model}}
\index{pfs\_cpu\_model@{pfs\_cpu\_model}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_cpu\_model()}{pfs\_cpu\_model()}}
{\footnotesize\ttfamily int pfs\+\_\+cpu\+\_\+model (\begin{DoxyParamCaption}\item[{char $\ast$}]{proc\+\_\+dir,  }\item[{char $\ast$}]{model\+\_\+buf,  }\item[{size\+\_\+t}]{buf\+\_\+sz }\end{DoxyParamCaption})}



Copies this OS\textquotesingle{}s cpu model to model\+\_\+buf. 


\begin{DoxyParams}[1]{Parameters}
 & {\em proc\+\_\+dir} & proc directory \\
\hline
 & {\em model\+\_\+buf} & buffer \\
\hline
\mbox{\texttt{ in}}  & {\em buf\+\_\+sz} & buffer size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on error 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_a9b207290dee3e4fc725a6800ab2813d6}\label{procfs_8h_a9b207290dee3e4fc725a6800ab2813d6}} 
\index{procfs.h@{procfs.h}!pfs\_cpu\_units@{pfs\_cpu\_units}}
\index{pfs\_cpu\_units@{pfs\_cpu\_units}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_cpu\_units()}{pfs\_cpu\_units()}}
{\footnotesize\ttfamily int pfs\+\_\+cpu\+\_\+units (\begin{DoxyParamCaption}\item[{char $\ast$}]{proc\+\_\+dir }\end{DoxyParamCaption})}



Gets the num of cpu\+\_\+units. 


\begin{DoxyParams}{Parameters}
{\em proc\+\_\+dir} & proc directory\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of cpu\+\_\+units, or -\/1 on error 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_a866cac2f8014b4c83f23243ab0e01ab3}\label{procfs_8h_a866cac2f8014b4c83f23243ab0e01ab3}} 
\index{procfs.h@{procfs.h}!pfs\_cpu\_usage@{pfs\_cpu\_usage}}
\index{pfs\_cpu\_usage@{pfs\_cpu\_usage}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_cpu\_usage()}{pfs\_cpu\_usage()}}
{\footnotesize\ttfamily double pfs\+\_\+cpu\+\_\+usage (\begin{DoxyParamCaption}\item[{char $\ast$}]{proc\+\_\+dir,  }\item[{struct \mbox{\hyperlink{structcpu__stats}{cpu\+\_\+stats}} $\ast$}]{prev,  }\item[{struct \mbox{\hyperlink{structcpu__stats}{cpu\+\_\+stats}} $\ast$}]{curr }\end{DoxyParamCaption})}



calculates this OS\textquotesingle{}s cpu usage from cpu\+\_\+usage file 


\begin{DoxyParams}{Parameters}
{\em proc\+\_\+dir} & proc directory \\
\hline
{\em prev} & previous \mbox{\hyperlink{structcpu__stats}{cpu\+\_\+stats}} struct, from the last time this function is called \\
\hline
{\em curr} & new \mbox{\hyperlink{structcpu__stats}{cpu\+\_\+stats}} struct, populated when this function is called\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
this OS\textquotesingle{}s cpu usage, or 0 on error 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_a3a7b8e342feb3d2ae29e01279c18087a}\label{procfs_8h_a3a7b8e342feb3d2ae29e01279c18087a}} 
\index{procfs.h@{procfs.h}!pfs\_create\_tstats@{pfs\_create\_tstats}}
\index{pfs\_create\_tstats@{pfs\_create\_tstats}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_create\_tstats()}{pfs\_create\_tstats()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}}$\ast$ pfs\+\_\+create\+\_\+tstats (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initalizes a \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} struct. 

\begin{DoxyReturn}{Returns}
a \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} struct, used to keep track of all processes in the OS 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_ace1568af21fee77d1ce8b68ac7460e8c}\label{procfs_8h_ace1568af21fee77d1ce8b68ac7460e8c}} 
\index{procfs.h@{procfs.h}!pfs\_destroy\_tstats@{pfs\_destroy\_tstats}}
\index{pfs\_destroy\_tstats@{pfs\_destroy\_tstats}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_destroy\_tstats()}{pfs\_destroy\_tstats()}}
{\footnotesize\ttfamily void pfs\+\_\+destroy\+\_\+tstats (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} $\ast$}]{tstats }\end{DoxyParamCaption})}



Destroys \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} data, including freeing allocated memory. 


\begin{DoxyParams}{Parameters}
{\em tstats} & \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} struct \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{procfs_8h_a2b539d023054cb32a82cc19e9fe1d977}\label{procfs_8h_a2b539d023054cb32a82cc19e9fe1d977}} 
\index{procfs.h@{procfs.h}!pfs\_format\_uptime@{pfs\_format\_uptime}}
\index{pfs\_format\_uptime@{pfs\_format\_uptime}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_format\_uptime()}{pfs\_format\_uptime()}}
{\footnotesize\ttfamily int pfs\+\_\+format\+\_\+uptime (\begin{DoxyParamCaption}\item[{double}]{time,  }\item[{char $\ast$}]{uptime\+\_\+buf }\end{DoxyParamCaption})}



Formats the OS\textquotesingle{}s uptime and writes it to uptime\+\_\+buf. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em time} & uptime \\
\hline
 & {\em uptime\+\_\+buf} & uptime buffer, to write formatted uptime into\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on error 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_acb1112f87eb6d7023b4bc2adccebb75e}\label{procfs_8h_acb1112f87eb6d7023b4bc2adccebb75e}} 
\index{procfs.h@{procfs.h}!pfs\_hostname@{pfs\_hostname}}
\index{pfs\_hostname@{pfs\_hostname}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_hostname()}{pfs\_hostname()}}
{\footnotesize\ttfamily int pfs\+\_\+hostname (\begin{DoxyParamCaption}\item[{char $\ast$}]{proc\+\_\+dir,  }\item[{char $\ast$}]{hostname\+\_\+buf,  }\item[{size\+\_\+t}]{buf\+\_\+sz }\end{DoxyParamCaption})}



Copies this OS\textquotesingle{}s hostname to hostname\+\_\+buf. 


\begin{DoxyParams}[1]{Parameters}
 & {\em proc\+\_\+dir} & proc directory \\
\hline
 & {\em hostname\+\_\+buf} & buffer \\
\hline
\mbox{\texttt{ in}}  & {\em buf\+\_\+sz} & buffer size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on error 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_aa2daa2378b2816f378f7d8d1cad39371}\label{procfs_8h_aa2daa2378b2816f378f7d8d1cad39371}} 
\index{procfs.h@{procfs.h}!pfs\_kernel\_version@{pfs\_kernel\_version}}
\index{pfs\_kernel\_version@{pfs\_kernel\_version}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_kernel\_version()}{pfs\_kernel\_version()}}
{\footnotesize\ttfamily int pfs\+\_\+kernel\+\_\+version (\begin{DoxyParamCaption}\item[{char $\ast$}]{proc\+\_\+dir,  }\item[{char $\ast$}]{version\+\_\+buf,  }\item[{size\+\_\+t}]{buf\+\_\+sz }\end{DoxyParamCaption})}



Copies this OS\textquotesingle{}s kernel version to version\+\_\+buf. 


\begin{DoxyParams}[1]{Parameters}
 & {\em proc\+\_\+dir} & proc directory \\
\hline
 & {\em version\+\_\+buf} & buffer \\
\hline
\mbox{\texttt{ in}}  & {\em buf\+\_\+sz} & buffer size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on error 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_ad7cd36585e7dc0dd239d622c60e1df69}\label{procfs_8h_ad7cd36585e7dc0dd239d622c60e1df69}} 
\index{procfs.h@{procfs.h}!pfs\_load\_avg@{pfs\_load\_avg}}
\index{pfs\_load\_avg@{pfs\_load\_avg}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_load\_avg()}{pfs\_load\_avg()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structload__avg}{load\+\_\+avg}} pfs\+\_\+load\+\_\+avg (\begin{DoxyParamCaption}\item[{char $\ast$}]{proc\+\_\+dir }\end{DoxyParamCaption})}



Creates a struct containing load average values and returns it. 


\begin{DoxyParams}{Parameters}
{\em proc\+\_\+dir} & proc directory\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structload__avg}{load\+\_\+avg}} struct holding load average values 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_a6cde96a5ca78eb0d37fb4c8da3c7e0b4}\label{procfs_8h_a6cde96a5ca78eb0d37fb4c8da3c7e0b4}} 
\index{procfs.h@{procfs.h}!pfs\_mem\_usage@{pfs\_mem\_usage}}
\index{pfs\_mem\_usage@{pfs\_mem\_usage}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_mem\_usage()}{pfs\_mem\_usage()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmem__stats}{mem\+\_\+stats}} pfs\+\_\+mem\+\_\+usage (\begin{DoxyParamCaption}\item[{char $\ast$}]{proc\+\_\+dir }\end{DoxyParamCaption})}



Populates and returns a \mbox{\hyperlink{structmem__stats}{mem\+\_\+stats}} struct with data from meminfo. 


\begin{DoxyParams}{Parameters}
{\em proc\+\_\+dir} & proc directory\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a populated \mbox{\hyperlink{structmem__stats}{mem\+\_\+stats}} struct with data from meminfo, or NULL on error 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_a78c77e940f997164cfe044717b5ce2e1}\label{procfs_8h_a78c77e940f997164cfe044717b5ce2e1}} 
\index{procfs.h@{procfs.h}!pfs\_tasks@{pfs\_tasks}}
\index{pfs\_tasks@{pfs\_tasks}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_tasks()}{pfs\_tasks()}}
{\footnotesize\ttfamily int pfs\+\_\+tasks (\begin{DoxyParamCaption}\item[{char $\ast$}]{proc\+\_\+dir,  }\item[{struct \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} $\ast$}]{tstats }\end{DoxyParamCaption})}



Returns the number of tasks/processes in this OS. 


\begin{DoxyParams}{Parameters}
{\em proc\+\_\+dir} & proc directory \\
\hline
{\em tstats} & \mbox{\hyperlink{structtask__stats}{task\+\_\+stats}} struct\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0, for success 
\end{DoxyReturn}
\mbox{\Hypertarget{procfs_8h_a22f70e07728198887b6f062716183058}\label{procfs_8h_a22f70e07728198887b6f062716183058}} 
\index{procfs.h@{procfs.h}!pfs\_uptime@{pfs\_uptime}}
\index{pfs\_uptime@{pfs\_uptime}!procfs.h@{procfs.h}}
\doxysubsubsection{\texorpdfstring{pfs\_uptime()}{pfs\_uptime()}}
{\footnotesize\ttfamily double pfs\+\_\+uptime (\begin{DoxyParamCaption}\item[{char $\ast$}]{proc\+\_\+dir }\end{DoxyParamCaption})}



Gets the uptime of this OS. 


\begin{DoxyParams}{Parameters}
{\em proc\+\_\+dir} & proc directory\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uptime of OS 
\end{DoxyReturn}
